/* Okler Themes - Style Switcher - 1.1.0 - 2014-01-31 */
var styleSwitcher={initialized:!1,options:{color:"#E36159"},initialize:function(){var a=this;this.initialized||(jQuery.styleSwitcherCachedScript=function(a,b){return b=$.extend(b||{},{dataType:"script",cache:!0,url:a}),jQuery.ajax(b)},$("head").append($('<link rel="stylesheet">').attr("href","master/style-switcher/style-switcher.css")),$("head").append($('<link rel="stylesheet/less">').attr("href","master/less/skin.less")),$("head").append($('<link rel="stylesheet">').attr("href","master/style-switcher/colorpicker/css/colorpicker.css")),$.styleSwitcherCachedScript("master/style-switcher/colorpicker/js/colorpicker.js").done(function(){less={env:"development"},$.styleSwitcherCachedScript("master/less/less.js").done(function(){a.build(),a.events(),null!=$.cookie("skin")?a.setColor($.cookie("skin")):a.container.find("ul[data-type=colors] li:first a").click(),null==$.cookie("initialized")&&(a.container.find("h4 a").click(),$.cookie("initialized",!0)),a.initialized=!0})}),$.styleSwitcherCachedScript("master/style-switcher/cssbeautify/cssbeautify.js").done(function(){}))},build:function(){var a=this,b=$("<div />").attr("id","styleSwitcher").addClass("style-switcher visible-lg").append($("<h4 />").html("Style Switcher").append($("<a />").attr("href","#").append($("<i />").addClass("icon icon-cogs"))),$("<div />").addClass("style-switcher-mode").append($("<div />").addClass("options-links mode").append($("<a />").attr("href","#").attr("data-mode","basic").addClass("active").html("Basic"),$("<a />").attr("href","#").attr("data-mode","advanced").html("Advanced"))),$("<div />").addClass("style-switcher-wrap").append($("<h5 />").html("Colors"),$("<ul />").addClass("options colors").attr("data-type","colors"),$("<hr />"),$("<div />").addClass("options-links").append($("<a />").addClass("reset").attr("href","#").html("Reset"),$("<a />").addClass("get-css").attr("href","#getCSSModal").html("Get Skin CSS"))));$("body").append(b);var c='<div class="modal fade" id="getCSSModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button> <h4 class="modal-title" id="cssModalLabel">Skin CSS</h4> </div> <div class="modal-body"> <div class="alert alert-info fade in" id="addBoxedClassInfo">Please add the <strong>&quot;boxed&quot;</strong> class to the &lt;body&gt; element.</div><textarea id="getCSSTextarea" class="get-css" readonly></textarea></div> </div> </div> </div> </div>';$("body").append(c),this.container=$("#styleSwitcher"),this.container.find("div.options-links.mode a").click(function(a){a.preventDefault();var b=$(this).parents(".mode");b.find("a.active").removeClass("active"),$(this).addClass("active"),"advanced"==$(this).attr("data-mode")?$("#styleSwitcher").addClass("advanced").removeClass("basic"):$("#styleSwitcher").addClass("basic").removeClass("advanced")});var d=[{Hex:"#E36159",colorName:"Orange"},{Hex:"#2BAAB1",colorName:"Cyan"},{Hex:"#0088CC",colorName:"Blue"},{Hex:"#4A5B7D",colorName:"Navy"},{Hex:"#B8A279",colorName:"Beige"},{Hex:"#c71c77",colorName:"Pink"},{Hex:"#734BA9",colorName:"Purple"},{Hex:"#47C6BA",colorName:"Green"}];this.options.colorList=d;var e=this.container.find("ul[data-type=colors]");if($.each(d,function(a){var b=$("<li />").append($("<a />").css("background-color",d[a].Hex).attr({"data-color-hex":d[a].Hex,"data-color-name":d[a].colorName,href:"#",title:d[a].colorName}));e.append(b)}),null!=$.cookie("skin"))var f=$.cookie("skin");else var f=d[0].Hex;var g=$("<div />").attr("id","colorPickerHolder").attr("data-color",f).attr("data-color-format","hex").addClass("color-picker");e.before(g),e.find("a").click(function(b){b.preventDefault(),a.setColor($(this).attr("data-color-hex")),$("#colorPickerHolder").ColorPickerSetColor($(this).attr("data-color-hex"))}),$("#colorPickerHolder").ColorPicker({color:f,flat:!0,livePreview:!1,onChange:function(b,c){a.setColor("#"+c)}}),$("#colorPickerHolder .colorpicker_color, #colorPickerHolder .colorpicker_hue").on("mousedown",function(b){b.preventDefault(),a.isChanging=!0}).on("mouseup",function(b){b.preventDefault(),a.isChanging=!1,setTimeout(function(){a.setColor("#"+$("#colorPickerHolder .colorpicker_hex input").val())},100)}),"false"==$.cookie("colorGradient")&&$("#colorGradient").removeAttr("checked"),$("#colorGradient").on("change",function(){var b=$(this).is(":checked").toString();a.options.gradient=b,a.setColor(a.options.color),$.cookie("colorGradient",b)}),a.container.find("a.reset").click(function(b){b.preventDefault(),a.reset()}),a.container.find("a.get-css").click(function(b){b.preventDefault(),a.getCss()})},events:function(){var a=this;a.container.find("h4 a").click(function(b){b.preventDefault(),a.container.hasClass("active")?a.container.animate({left:"-"+a.container.width()+"px"},300).removeClass("active"):a.container.animate({left:"0"},300).addClass("active")}),(null!=$.cookie("showSwitcher")||$("body").hasClass("one-page"))&&(a.container.find("h4 a").click(),$.removeCookie("showSwitcher"))},setColor:function(a){var b=this;return this.isChanging?!1:(b.options.color=a,less.modifyVars({primaryColor:a}),$.cookie("skin",a),void(b.options.colorList[0].Hex!=a&&b.colorSetNotDefault(a)))},colorSetNotDefault:function(){},reset:function(){$.removeCookie("skin"),$.cookie("showSwitcher",!0),window.location.reload()},getCss:function(){raw="";var a=$("body").hasClass("boxed");a?(raw='body { background-image: url("img/patterns/'+$.cookie("pattern")+'.png"); }',$("#addBoxedClassInfo").show()):$("#addBoxedClassInfo").hide(),$("#getCSSTextarea").text(""),$("#getCSSTextarea").text($('style[id^="less:"]').text()),$("#getCSSModal").modal("show"),options={indent:"	",autosemicolon:!0},raw+=$("#getCSSTextarea").text(),$("#getCSSTextarea").text(cssbeautify(raw,options))}};styleSwitcher.initialize();